type Account @collection(name: "accounts") {
  email: String! @unique
  profile: Profile! @relation
}

type: Profile @collection(name: "profiles") {
  name: String!
  account: Account! @relation
  log: Log @relation
}

type Log @collection(name: "logs") {
  profile: Profile! @relation
  days: [Day!]!
}

type Day @embedded {
  date: String! @unique
  codes: [String!]!
}

type Mutation {
  register(email: String!, password: String!): Account! @resolver
  login(email: String!, password: String!): String! @resolver
  updateLog(date: String!, codes: [String!]!, log: Id!): Day!
}

type Query {
  daysByProfile(profile: Id!): [Day!]
  allProfiles: [Profile!]
}
